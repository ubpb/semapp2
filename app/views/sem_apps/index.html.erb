<% content_for(:head) do %>
  <%= javascript_include_tag('sem_apps/index.js') %>
<% end %>

<h2 class="underlined">Gesamtliste</h2>

<% semantic_form_for User.new, :url => sem_apps_path do |form| %>

  <% form.inputs :name => "Basic" do %>
    <%= form.input :login %>
    <%= form.input :password %>
  <% end %>

  <% form.buttons do %>
    <%= form.commit_button %>
  <% end %>

<% end %>



<div id="filter-panel" class="pui-overlay">
  <h2 class="underlined">Liste filtern</h2>
  <% form_tag(sem_apps_url, :method => :get) do %>
    <table>
      <tr>
        <td>Angezeigtes Semester:</td>
        <td><%= select("semester", "id", Semester.all.collect {|p| [ p.title, p.id ]}, {:include_blank => 'Alle'}) %></td>
      </tr>
      <tr>
        <td>Standort:</td>
        <td><%= select("location", "id", Location.all.collect {|p| [ p.title, p.id ]}, {:include_blank => 'Alle'}) %></td>
      </tr>
      <tr>
        <td>Titel enthält:</td>
        <td><%= text_field_tag 'title', @title %></td>
      </tr>
      <tr>
        <td>Tutor(en) enthält:</td>
        <td><%= text_field_tag 'tutors', @tutors %></td>
      </tr>
    </table>
    <div style="text-align: center">
      <%= submit_tag 'Filtern' %>
      <% if @filtered %>
        <%= link_to 'Filter zurücksetzen', sem_apps_path %>
      <% end %>
    </div>
  <% end %>
</div>

<div id="filter-info-panel" class="panel underlined align-right">
  <% if @filtered %>
    Anzahl der eSeminarapparate: <%= @count %> <strong>(Gefiltert)</strong>
  <% else %>
    Anzahl der eSeminarapparate: <%= @count %> <strong>(Gesamt)</strong>
  <% end %>
  <a href="#" rel="#filter-panel">&raquo; Filter</a>
</div>

<%= render 'listing', :sem_apps => @sem_apps %>

<%= will_paginate @sem_apps %>